---
layout: post
title: gdb 사용법 정리
description: 
date: 2019-07-19
categories: [Linux]
use_math: true
comments: true
---

<p>
[Work in Progress&#x2026;]
</p>

<p>
gdb는 리눅스에서 바이너리(실행) 파일을 디버깅하기 위한 프로그램입니다. 다양한 옵션들이 존재하므로 따로 정리했습니다. 
</p>
<div id="outline-container-orga3f9f5a" class="outline-2">
<h2 id="orga3f9f5a">commands 명령어</h2>
<div class="outline-text-2" id="text-orga3f9f5a">
<ul class="org-ul">
<li><code>t</code> (thread)</li>
<li><code>bt</code> (back trace)</li>
<li><code>i</code> (info)
<ul class="org-ul">
<li><code>i b 1</code>: 1번 breakpoint의 정보를 확인합니다.</li>
<li><code>i t 1</code>: 1번 thread의 정보를 확인합니다.</li>
</ul></li>
<li><code>f</code> (file)</li>
<li><code>p</code> (print)
<ul class="org-ul">
<li><code>p vec.size()</code></li>
</ul></li>
<li><code>b</code> (breakpoint)
<ul class="org-ul">
<li><code>b test.cpp:30</code></li>
</ul></li>
<li><code>s</code> (step)</li>
<li><code>d</code> (disable)
<ul class="org-ul">
<li><code>d br 1 (or, d 1)</code></li>
</ul></li>
<li><code>n</code> (next): step over functions</li>
<li><code>s</code> (step): setp into functions</li>
<li><code>c</code> (continue)</li>
<li><code>l</code> (list)
<ul class="org-ul">
<li><code>l 10</code></li>
<li><code>l thisIsFunction()</code></li>
</ul></li>
<li><code>finish</code></li>
<li><p>
<code>cond</code> (condition)
</p>
<ul class="org-ul">
<li><code>cond 8 i =</code> 456=: i가 456이 될 때 8번 bp에서 멈추도록 지정합니다.
ignore 8 455도 가능합니다.</li>
</ul>
<div class="org-src-container">
<pre class="src src-c++"><span style="color: #df005f; font-weight: bold;">int</span> <span style="color: #8787d7;">i</span>=0;
<span style="color: #228b22;">// </span><span style="color: #32cd32; background-color: #262626;">do something</span>
<span style="color: #268bd2; font-weight: bold;">for</span>(<span style="color: #df005f; font-weight: bold;">int</span> <span style="color: #8787d7;">i</span>=0; i&lt;1000; i++) {
  <span style="color: #228b22;">// </span><span style="color: #32cd32; background-color: #262626;">do something</span>
}
</pre>
</div>
<ul class="org-ul">
<li><code>cond 8 foo(i) &gt; bar(rand())</code></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org23af024" class="outline-2">
<h2 id="org23af024">shortcuts 단축키</h2>
<div class="outline-text-2" id="text-org23af024">
<ul class="org-ul">
<li><code>C-x C-a</code> :</li>
<li><code>C-l</code></li>
<li><code>C-p C-n</code></li>
</ul>
</div>
</div>
<div id="outline-container-orgac21cfa" class="outline-2">
<h2 id="orgac21cfa">.gdbinit settings (.gdbinit 설정)</h2>
<div class="outline-text-2" id="text-orgac21cfa">
<ul class="org-ul">
<li><code>set listsize &lt;number&gt;</code></li>
</ul>
</div>
</div>
<div id="outline-container-org739dba6" class="outline-2">
<h2 id="org739dba6">options 실행 옵션</h2>
<div class="outline-text-2" id="text-org739dba6">
<ul class="org-ul">
<li><code>-i=mi</code> (&#x2013;interface=mi)
<ul class="org-ul">
<li>emacs에서만 동작하는 옵션입니다.</li>
<li>it makes gdb present a machine-oriented text interface rather than the human-oriented command prompt you get without it. see <a href="https://stackoverflow.com/a/28901568/7402755">reference</a></li>
</ul></li>
<li><code>-tui</code></li>
<li><code>-q</code></li>
<li><code>--ex</code></li>
<li><code>--args</code></li>
</ul>
</div>
</div>
