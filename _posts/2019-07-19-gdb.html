---
layout: post
title: gdb 사용법 정리
description: 
date: 2019-07-19
categories: [Technology]
tag: [Linux]
use_math: true
comments: true
---

<p>
[Work in Progress&#x2026;]
</p>

<p>
gdb는 리눅스에서 바이너리(실행) 파일을 디버깅하기 위한 프로그램이다. 다양한 옵션들이 존재하므로 따로 정리했다. 
</p>
<div id="outline-container-org9688cb0" class="outline-2">
<h2 id="org9688cb0">commands 명령어</h2>
<div class="outline-text-2" id="text-org9688cb0">
<ul class="org-ul">
<li><code>t</code> (thread)</li>
<li><code>bt</code> (back trace)</li>
<li><code>i</code> (info)
<ul class="org-ul">
<li><code>i b 1</code>: 1번 breakpoint의 정보를 확인한다.</li>
<li><code>i t 1</code>: 1번 thread의 정보를 확인한다.</li>
</ul></li>
<li><code>f</code> (file)</li>
<li><p>
<code>p</code> (print)
</p>
<ul class="org-ul">
<li><code>p vec.size()</code> : vec 변수의 크기를 확인한다.</li>
</ul>
<ul class="org-ul">
<li><code>b</code> (breakpoint)
<ul class="org-ul">
<li><code>b test.cpp:30</code> : test.cpp 30번줄에 breakpoint를 설정한다</li>
</ul></li>
</ul></li>
<li><code>s</code> (step)</li>
<li><code>d</code> (disable)
<ul class="org-ul">
<li><code>d br 1 (or, d 1)</code>: 1번 breakpoint를 제거한다.</li>
</ul></li>
<li><code>n</code> (next): step over functions</li>
<li><code>s</code> (step): setp into functions</li>
<li><code>c</code> (continue)</li>
<li><code>l</code> (list)
<ul class="org-ul">
<li><code>l 10</code></li>
<li><code>l thisIsFunction()</code></li>
</ul></li>
<li><code>finish</code></li>
<li><p>
<code>cond</code> (condition)
</p>
<ul class="org-ul">
<li><code>cond 8 i = 456</code>: i가 456이 될 때 8번 bp에서 멈추도록 지정한다.
ignore 8 455도 가능하다.</li>
</ul>
<div class="org-src-container">
<pre class="src src-c++"><span class="org-type">int</span> <span class="org-variable-name">i</span>=0;
<span class="org-comment-delimiter">// </span><span class="org-comment">do something</span>
<span class="org-keyword">for</span>(<span class="org-type">int</span> <span class="org-variable-name">i</span>=0; i&lt;1000; i++) {
  <span class="org-comment-delimiter">// </span><span class="org-comment">do something</span>
}
</pre>
</div>
<ul class="org-ul">
<li><code>cond 8 foo(i) &gt; bar(rand())</code> : 8번 breakpoint를 foo(i) &gt; bar(rand())를 만족할 때만 실행하도록 설정한다.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org1b58cbd" class="outline-2">
<h2 id="org1b58cbd">shortcuts 단축키</h2>
<div class="outline-text-2" id="text-org1b58cbd">
<ul class="org-ul">
<li><code>C-x C-a</code> :</li>
<li><code>C-l</code></li>
<li><code>C-p C-n</code></li>
</ul>
</div>
</div>
<div id="outline-container-org8fd3325" class="outline-2">
<h2 id="org8fd3325">.gdbinit settings (.gdbinit 설정)</h2>
<div class="outline-text-2" id="text-org8fd3325">
<ul class="org-ul">
<li><code>set listsize &lt;number&gt;</code></li>
</ul>
</div>
</div>
<div id="outline-container-orge8308f3" class="outline-2">
<h2 id="orge8308f3">options 실행 옵션</h2>
<div class="outline-text-2" id="text-orge8308f3">
<ul class="org-ul">
<li><code>-i=mi</code> (&#x2013;interface=mi)
<ul class="org-ul">
<li>emacs에서만 동작하는 옵션이다.</li>
<li>it makes gdb present a machine-oriented text interface rather than the human-oriented command prompt you get without it. see <a href="https://stackoverflow.com/a/28901568/7402755">reference</a></li>
</ul></li>
<li><code>-tui</code>
<ul class="org-ul">
<li></li>
</ul></li>
<li><code>-q</code>
<ul class="org-ul">
<li>gdb를 시작할 때 나오는 intro message들을 출력하지 않는다.</li>
</ul></li>
<li><code>--ex</code></li>
<li><code>--args</code></li>
</ul>
</div>
</div>
