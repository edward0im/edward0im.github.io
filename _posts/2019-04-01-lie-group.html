---
layout: post
title: (Group Theory) Introduction to Lie Theory
description:
date: 2019-04-01
categories: [Mathematics]
tag: [Group Theory, Lie Group, SE3, SO3, SLAM, Optimization]
use_math: true
comments: true
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org2911b07">1. SE3-based Optimization in SLAM</a></li>
<li><a href="#org6942b4a">2. Group Theory</a></li>
<li><a href="#orgf10f4cb">3. Lie Group &amp; Lie Algebra</a>
<ul>
<li><a href="#orgeee6263">3.1. Lie Group</a></li>
<li><a href="#orga7cae95">3.2. Lie Algebra</a></li>
</ul>
</li>
<li><a href="#org1dc9369">4. Properties of Lie Group</a></li>
<li><a href="#orge31e4a3">5. Lie Algebra Derivation</a></li>
<li><a href="#org5acccd3">6. Reference</a></li>
</ul>
</div>
</div>

<div id="outline-container-org2911b07" class="outline-2">
<h2 id="org2911b07"><span class="section-number-2">1</span> SE3-based Optimization in SLAM</h2>
<div class="outline-text-2" id="text-1">
<p>
SLAM에서 3차원 카메라의 포즈를 의미하는 $\mathbf{T}&isin; \text{SE(3)}$는 덧셈에 대하여 닫혀있지 않으므로 카메라 포즈의 변화량 $&delta;\mathbf{T}$를 바로 업데이트할 수 없는 반면 3차원 물체의 속도를 의미하는 twist $\delta \xi^{\wedge} \in \text{se(3)}$를 사용하여 업데이트하면 별도의 제약조건 없이 업데이트가 가능한 장점이 있다. 다시 말하면, <b>SE(3) 매니폴드 상에서는 변화량을 바로 업데이트할 수 없으므로 국부적인 접평면(Tangential Plane)인 se(3) 공간으로 Logarithm Mapping(SE3 &rarr; se3)을 통해 이동한 후 변화량을 업데이트하고 다시 Exponential Mapping(se3 $\rightarrow$SE3)을 통해 SE3 공간으로 돌아오는 과정을 반복하는 것</b> 을 SE3-based Optimization이라고 한다.
</p>

<p>
SE3-base Optimization을 SLAM에서 사용하는 이유를 정리해보면
</p>
<ul class="org-ul">
<li>SE3 매니폴드 공간에서는 변화량을 업데이트 할 수 없다. 따라서 SE3 공간의 접평면인 se3 공간에서 변화량을 업데이트한 후 다시 SE3 공간으로 돌아오는 과정을 반복하여 포즈를 업데이트한다.</li>
<li>회전을 나타내는 회전행렬, 쿼터니언, Angle-Axis 표현 방법들은 업데이트 과정에서 제약조건을 위배하는 경우가 발생하지만 SE3-based Optimization은 제약조건 없이 자유롭게 업데이트할 수 있다.</li>
</ul>
</div>
</div>
<div id="outline-container-org6942b4a" class="outline-2">
<h2 id="org6942b4a"><span class="section-number-2">2</span> Group Theory</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>군(Group)은 집합과 연산으로 이루어진 대수적 구조를 말한다. 예를 들어, 어떤 집합을 $A$라고 하고 어떤 연산을 $\cdot$으로 표시했을 때, 군은 $G = (A, \cdot)$으로 나타낼 수 있다.</li>
<li><p>
Lie Group과 Lie Algera의 정의는 아래와 같다.
</p>
<hr /></li>
</ul>
</div>
</div>
<div id="outline-container-orgf10f4cb" class="outline-2">
<h2 id="orgf10f4cb"><span class="section-number-2">3</span> Lie Group &amp; Lie Algebra</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgeee6263" class="outline-3">
<h3 id="orgeee6263"><span class="section-number-3">3.1</span> Lie Group</h3>
<div class="outline-text-3" id="text-3-1">
\begin{equation}
\begin{aligned}
SO(3) = \{ \mathbf{R} \in \mathbb{R}^{3 \times 3} \ | \ \mathbf{R}\mathbf{R}^{T} = \mathbf{I}, \text{det}(\mathbf{R})=1 \}
\end{aligned}
\end{equation}
\begin{equation}
\begin{aligned}
SE(3) = \left \{ \mathbf{T} =  
\begin{bmatrix}
\mathbf{R} &amp; \mathbf{t} \\ 
\mathbf{0}^{T} &amp; 1
\end{bmatrix} \in \mathbb{R}^{4\times4} \ | \ \mathbf{R} \in SO(3), \mathbf{t} \in \mathbb{R}^{3}  \right \} 
\end{aligned}
\end{equation}
</div>
</div>

<div id="outline-container-orga7cae95" class="outline-3">
<h3 id="orga7cae95"><span class="section-number-3">3.2</span> Lie Algebra</h3>
<div class="outline-text-3" id="text-3-2">
\begin{equation}
\begin{aligned}
\text{so}(3) = \{ \phi \in \mathbb{R}^{3} \ | \ \Phi = \phi^{\wedge} \in \mathbb{R}^{3\times 3} \}
\end{aligned}
\end{equation}
\begin{equation}
\begin{aligned}
\text{se}(3) = \{ \xi = \begin{bmatrix}
\rho \\ 
\phi
\end{bmatrix} \in \mathbb{R}^{6}, \rho \in \mathbb{R}^{3}, \phi \in \text{so}(3)\ | \ \xi^{\wedge} = \begin{bmatrix}
\phi^{\wedge} &amp; \rho \\ 
\mathbf{0} &amp; 1 
\end{bmatrix} \in \mathbb{R}^{4 \times 4} \}
\end{aligned}
\end{equation}
<hr />
</div>
</div>
</div>
<div id="outline-container-org1dc9369" class="outline-2">
<h2 id="org1dc9369"><span class="section-number-2">4</span> Properties of Lie Group</h2>
<div class="outline-text-2" id="text-4">
<p>
임의의 두 회전행렬 $\mathbf{R}_{1},\mathbf{R}_{2}$가 존재할 때 행렬의 덧셈을 수행하면 더 이상 회전 행렬이 아니게 된다.
</p>
\begin{equation}
\begin{aligned}
\mathbf{R}_{1} + \mathbf{R}_{2} \notin SO(3)
\end{aligned}
\end{equation}
<p>
이와 반대로 <b>곱셈 연산</b> 의 경우 회전행렬과 변환 행렬의 합성에 해당하고 두 회전행렬의 곱은 두 개의 회전이 연속적으로 이뤄짐을 의미한다.
</p>

\begin{equation}
\begin{aligned}
\mathbf{R}_{1}\mathbf{R}_{2} \in SO(3), \ \ \ \mathbf{T}_{1}\mathbf{T}_{2} \in SE(3)
\end{aligned}
\end{equation}
<hr />
</div>
</div>
<div id="outline-container-orge31e4a3" class="outline-2">
<h2 id="orge31e4a3"><span class="section-number-2">5</span> Lie Algebra Derivation</h2>
<div class="outline-text-2" id="text-5">
<p>
임의의 회전 행렬은 다음과 같은 성질을 만족한다.
</p>

\begin{equation}
\begin{aligned}
\mathbf{R}\mathbf{R}^{T} = \mathbf{I}
\end{aligned}
\end{equation}
<p>
$\mathbf{R}$을 시간에 따라 지속적으로 변화하는 카메라 회전으로 보면 시간의 함수 $\mathbf{R}(t)$로 표기할 수 있다. 
</p>

\begin{equation}
\begin{aligned}
\mathbf{R}(t)\mathbf{R}(t)^{T} = \mathbf{I}
\end{aligned}
\end{equation}
<p>
위 식을 양측에서 시간에 대한 미분을 수행하면
</p>

\begin{equation}
\begin{aligned}
&amp; \dot{\mathbf{R}}(t)\mathbf{R}^{T}(t) + \mathbf{R}(t)\dot{\mathbf{R}}(t)^{T} = 0 \\
&amp; \dot{\mathbf{R}}(t)\mathbf{R}^{T}(t) = -\biggl( \mathbf{R}(t)\dot{\mathbf{R}}(t)^{T} \biggl)^{T}
\end{aligned}
\end{equation}
<p>
이를 통해 $\mathbf{R}(t)\mathbf{R}(t)^{T}$이 반대칭 행렬인 것을 알 수 있다. 임의의 반대칭 행렬 $\mathbf{a}^{\wedge}$은 아래와 같다. 
</p>

\begin{equation}
\begin{aligned}
\mathbf{a}^{\wedge} = \mathbf{A} = \begin{bmatrix}
0 &amp; -a_{3} &amp; a_{2} \\ 
a_{3} &amp; 0 &amp; -a_{1} \\ 
-a_{2} &amp; a_{1}  &amp; 0
\end{bmatrix}, \ \ \mathbf{A}^{\vee} = \mathbf{a}
\end{aligned}
\end{equation}
<p>
어떠한 반대칭 행렬에서도 그에 대응하는 벡터를 찾을 수 있다.
</p>

<p>
따라서 $\mathbf{R}(t)\mathbf{R}(t)^{T}$도 그에 상응하는 3차원 벡터 $\phi(t) \in \mathbb{R}^{3}$를 찾을 수 있다.
</p>

\begin{equation}
\begin{aligned}
\dot{\mathbf{R}}(t)\mathbf{R}^{T}(t) = \phi(t)^{\wedge}.
\end{aligned}
\end{equation}
<p>
이 때, 방정식 양쪽에 $\mathbf{R}(t)$를 곱한다. $\mathbf{R}$은 직교 행렬이므로 아래와 같은 식을 얻을 수 있다.
</p>

\begin{equation}
\begin{aligned}
\dot{\mathbf{R}}(t) = \phi(t)^{\wedge}\mathbf{R}(t) = \begin{bmatrix}
0 &amp; -\phi_{3} &amp; \phi_{2} \\ 
\phi_{3} &amp; 0 &amp; -\phi_{1} \\ 
-\phi_{2} &amp; \phi_{1}  &amp; 0
\end{bmatrix} \mathbf{R}(t)
\end{aligned}
\end{equation}
<p>
시간 $t_{0}=0$일 때 회전행렬 $\mathbf{R}(0)=\mathbf{I}$라고 하면, $\mathbf{R}(t)$는 $t=0$주변의 1차 테일러 전개를 통해 표현할 수 있다.
</p>

\begin{equation}
\begin{aligned}
    \mathbf{R}(t) &amp; \simeq \mathbf{R}(t_{0}) + \dot{\mathbf{R}}(t_{0})(t-t_{0}) \\
    &amp; = \mathbf{I} + \phi(t_{0})^{\wedge}t
\end{aligned}
\end{equation}
<p>
이 때 $\phi$는 SO(3) 원점에 대한 접평면을 의미한다. $t_{0}=0$근처에서 $\phi$가 일정하다고 가정하면 $\phi(t_{0}) = \phi_{0}$가 된다.
</p>

\begin{equation}
\begin{aligned}
\dot{\mathbf{R}}(t) = \phi(t_{0})^{\wedge}\mathbf{R}(t) = \phi_{0}\mathbf{R}(t)
\end{aligned}
\end{equation}
<p>
위 방정식은 미분방정식이므로 미분방정식의 해는 다음과 같다.
</p>

\begin{equation}
\begin{aligned}
\mathbf{R}(t) = \exp(\phi_{0}^{\wedge}t).
\end{aligned}
\end{equation}
<p>
위 식은 $t=0$주위에서 회전행렬이 $\exp(\phi_{0}^{\wedge}t)$를 통해 계산될 수 있음을 의미한다.
</p>

<hr />
</div>
</div>
<div id="outline-container-org5acccd3" class="outline-2">
<h2 id="org5acccd3"><span class="section-number-2">6</span> Reference</h2>
<div class="outline-text-2" id="text-6">
<p>
<a href="https://www.youtube.com/watch?v=_i9PaekcguA&amp;list=PLubUquiqNQdOTNocmWCSWk9ZaWhV7ubCD">SLAMKR Study Season1</a>, <a href="https://www.facebook.com/groups/slamkr/learning_content/?filter=242316043076666">입문 Visual SLAM</a> 
</p>
</div>
</div>
